SELECT b_in.id id,b_in.catName as catName,b_in.catno as catno,b_in.inDate as builtdate,b_in.person as person,b_in.num AS num,CONCAT(b_in.person,'入库',b_in.num,'个',b_in.catName,'(',b_in.batchNo,')') description FROM b_in ,b_var where b_var.bizkey='newinout' and DATEDIFF(CURDATE(),b_in.inDate) <=b_var.bizValue and DATEDIFF(CURDATE(),b_in.inDate)>=0 UNION ALL  SELECT b_out.id as id,b_out.catname as catName,b_out.catno as catno,b_out.outDate as builtdate,b_out.person as person,b_out.num as num,CONCAT(b_out.person,'出库',b_out.num,'个',b_out.catName,'(',b_out.batchNo,')') description FROM b_out ,b_var where b_var.bizkey='newinout' and DATEDIFF(CURDATE(),b_out.outDate) <=b_var.bizValue and DATEDIFF(CURDATE(),b_out.outDate)>=0 ORDER BY builtdate DESC 