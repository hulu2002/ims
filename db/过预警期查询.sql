SELECT id, b.catno, b.catname, b.batchno, b.total, b.expiredate AS builtdate, CONCAT( b.total, '个', b.batchno, '还剩', cast( DATEDIFF( b.expiredate, CURRENT_DATE ()) AS CHAR (12)), '天过期！(', b.catname, ')' ) description FROM b_cat b, b_var v WHERE v.bizkey = 'expireTime' AND DATEDIFF( b.expiredate, CURRENT_DATE ()) <= v.bizValue AND DATEDIFF( b.expiredate, CURRENT_DATE ()) >= 0 AND b.total > 0 ORDER BY b.expiredate ASC